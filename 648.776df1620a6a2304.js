"use strict";(self.webpackChunkShop=self.webpackChunkShop||[]).push([[648],{8648:(b,u,s)=>{s.r(u),s.d(u,{MongoModule:()=>C});var m=s(6895),c=s(9342),p=s(655),g=s(4163),l=s(3619),h=s(6150),t=s(8274),v=s(7889),f=s(3050),d=s(4006);function M(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div")(2,"div",4)(3,"span",5),t._uU(4),t.qZA(),t._UZ(5,"textarea",6),t.TgZ(6,"button",7),t.NdJ("click",function(){const A=t.CHM(e).$implicit,J=t.oxw();return t.KtG(J.onDelete(A._id))}),t._uU(7,"X"),t.qZA()()()()}if(2&o){const e=n.$implicit;t.xp6(4),t.Oqu(e.name),t.xp6(1),t.Q6J("disabled",!0)("value",e.comments)}}class a{constructor(n,e,i){this.dataBase=n,this.mongo=e,this.store=i,this.comments="",this.fullName="",this.audio=new Audio}ngOnInit(){this.update(!1),this.fullName=this.dataBase.userData.name+" "+this.dataBase.userData.surName}onAdd(n){return this.comments="",this.store.dispatch(new l.Uh(n))}onDelete(n){return this.store.dispatch(new l.Vp(n))}update(n){let e,i=JSON.stringify(this.data);this.store.dispatch(new l.Br),this.data$?.subscribe(r=>{e=r,e=JSON.stringify(r)}),setTimeout(()=>{e!==i&&(this.data=JSON.parse(e),n&&this.onPlay()),this.update(!0)},500)}onPlay(){return this.audio.src="../../../../../../assets/message.mp3",this.audio.load(),this.audio.play()}}a.\u0275fac=function(n){return new(n||a)(t.Y36(v.D),t.Y36(f.H),t.Y36(g.yh))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-mongo"]],decls:8,vars:2,consts:[[1,"text-center"],["placeholder","comments",1,"textArea","p-2","rounded-xl","m-2","w-96",3,"ngModel","ngModelChange"],[1,"p-4","bg-slate-500","rounded-xl","w-96",3,"click"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","w-96","bg-zinc-500","rounded-xl","p-4","my-2","mx-auto"],[1,"text-center","mx-auto","my-auto","bg-red-600","rounded-xl","text-white","hover:bg-red-800"],[1,"textArea","p-2","rounded-xl","m-2","w-52",3,"disabled","value"],[1,"hover:bg-red-600","rounded-xl","px-4","active:ease-in","duration-100","active:bg-red-800",3,"click"]],template:function(n,e){1&n&&(t.TgZ(0,"h1"),t._uU(1,"this component need backend server"),t.qZA(),t.TgZ(2,"div",0)(3,"textarea",1),t.NdJ("ngModelChange",function(r){return e.comments=r}),t.qZA(),t.TgZ(4,"div")(5,"button",2),t.NdJ("click",function(){return e.onAdd(e.comments)}),t._uU(6,"Add"),t.qZA()()(),t.YNc(7,M,8,3,"div",3)),2&n&&(t.xp6(3),t.Q6J("ngModel",e.comments),t.xp6(4),t.Q6J("ngForOf",e.data.reverse()))},dependencies:[m.sg,d.Fj,d.JJ,d.On],styles:[".textArea[_ngcontent-%COMP%]{resize:none;border:2px solid black}"]}),(0,p.gn)([(0,g.Ph)(h.I.mongoData)],a.prototype,"data$",void 0);let x=[{path:"",component:a}],y=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[c.Bz.forChild(x),c.Bz]}),o})(),C=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[m.ez,d.u5,y]}),o})()}}]);